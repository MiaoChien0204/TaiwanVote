% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_election.R
\name{tv_get_election}
\alias{tv_get_election}
\title{Get Taiwan election data}
\usage{
tv_get_election(
  year = NULL,
  office = NULL,
  adm_level = "polling_station",
  sub_type = NULL,
  county_name = NULL,
  town_name = NULL,
  village_name = NULL,
  candidate = NULL,
  party = NULL
)
}
\arguments{
\item{year}{Numeric vector. The election year(s). Currently supports: 2024.}

\item{office}{Character. The type of office. Currently supports: "president", "legislator".}

\item{adm_level}{Character. Administrative level for data aggregation.
Options: "polling_station" (default), "village", "town", "county".}

\item{sub_type}{Character. The sub-type of election. For president, this should be NULL.
For legislator, options are: "regional", "indigenous_lowland", "indigenous_highland".
If NULL for legislator, defaults to "regional" for performance.}

\item{county_name}{Character vector. County or city names to filter by (e.g., "新竹市", "桃園市").}

\item{town_name}{Character vector. Town/district names with county included
(e.g., "新竹市東區", "桃園市桃園區").}

\item{village_name}{Character vector. Village names with full address
(e.g., "新竹市東區三民里", "桃園市桃園區文中里").}

\item{candidate}{Character vector. The name(s) of the candidate(s) to filter by.}

\item{party}{Character vector. The political party/parties to filter by.}
}
\value{
A tibble containing election results with the following columns:
\describe{
\item{year}{Election year}
\item{data_type}{Type of data (always "election")}
\item{office}{Office type (e.g., "president")}
\item{sub_type}{Sub-type (NA for president)}
\item{county}{County name}
\item{town}{Town/District name}
\item{village}{Village name}
\item{polling_station_id}{Polling station ID}
\item{candidate_name}{Candidate name}
\item{party}{Political party}
\item{votes}{Number of votes received}
\item{vote_percentage}{Percentage of votes (calculated)}
\item{is_elected}{Logical indicating if candidate was elected}
\item{invalid}{Number of invalid votes}
\item{total_valid}{Total valid votes}
\item{total_ballots}{Total ballots cast}
\item{registered}{Registered voters}
\item{turnout_rate}{Voter turnout rate}
}
}
\description{
This function retrieves election data for Taiwan's presidential and legislative elections.
Currently supports 2024 presidential election data and 2024 legislator election data.
}
\examples{
\dontrun{
# Get all 2024 presidential election data
tv_get_election(year = 2024, office = "president")

# Get 2024 regional legislator election data
tv_get_election(year = 2024, office = "legislator", sub_type = "regional")

# Get 2024 indigenous lowland legislator election data  
tv_get_election(year = 2024, office = "legislator", sub_type = "indigenous_lowland")

# Get data for a specific county
tv_get_election(year = 2024, office = "president", county_name = "新竹市")

# Get data for a specific town
tv_get_election(year = 2024, office = "president", town_name = "新竹市東區")

# Get data for a specific village
tv_get_election(year = 2024, office = "president", village_name = "新竹市東區三民里")

# Get data for a specific candidate
tv_get_election(year = 2024, office = "president", candidate = "賴清德")

# Get data for a specific party
tv_get_election(year = 2024, office = "president", party = "民主進步黨")

# Get data with specific administrative level
tv_get_election(year = 2024, office = "president", adm_level = "county")

# Combine filters
tv_get_election(year = 2024, office = "president", county_name = "新竹市", party = "民主進步黨")
}

}
